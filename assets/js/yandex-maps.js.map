{"version":3,"file":"yandex-maps.js","sources":["../../node_modules/ymaps/dist/ymaps.esm.js","../../src/blocks/yandex-maps/view.js"],"sourcesContent":["var ymaps$1 = {\n  load: function load() {\n    var src = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '//api-maps.yandex.ru/2.1/?lang=en_RU';\n\n    var getNsParamValue = function getNsParamValue() {\n      var results = src.match(/[\\\\?&]ns=([^&#]*)/);\n      return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    };\n\n    if (!this.promise) {\n      this.promise = new Promise(function (resolve, reject) {\n        var scriptElement = document.createElement('script');\n        scriptElement.onload = resolve;\n        scriptElement.onerror = reject;\n        scriptElement.type = 'text/javascript';\n        scriptElement.src = src;\n        document.body.appendChild(scriptElement);\n      }).then(function () {\n        var ns = getNsParamValue();\n\n        if (ns && ns !== 'ymaps') {\n          (0, eval)(\"var ymaps = \".concat(ns, \";\"));\n        }\n\n        return new Promise(function (resolve) {\n          return ymaps.ready(resolve);\n        });\n      });\n    }\n\n    return this.promise;\n  }\n};\n\nexport default ymaps$1;\n","import ymaps from 'ymaps'\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  let yandexMapsSelector = document.querySelectorAll('.yandex-maps')\r\n\r\n  if (yandexMapsSelector) {\r\n    setTimeout(() => {\r\n      yandexMapsSelector.forEach(element => {\r\n        ymaps.load(`https://api-maps.yandex.ru/2.1/?apikey=${isvekPluginYandexMapsArgs.key}&lang=ru_RU`)\r\n          .then(maps => {\r\n            const coords = element.getAttribute('data-yandex-maps-coords').split(',')\r\n            const zoom = element.getAttribute('data-yandex-maps-zoom')\r\n            const address = element.getAttribute('data-yandex-maps-address')\r\n            const placemarkColor = element.getAttribute('data-yandex-maps-placemarkColor')\r\n            const map = new maps.Map(element, {\r\n              center: [coords[0], coords[1]],\r\n              zoom: zoom\r\n            })\r\n\r\n            if (map) {\r\n              document.querySelectorAll('.yandex-maps-placeholder').forEach(el => el.remove())\r\n\r\n              element.childNodes[0].style.pointerEvents = 'none'\r\n\r\n              element.addEventListener('click', () => {\r\n                element.childNodes[0].style.pointerEvents = 'auto'\r\n              })\r\n\r\n              element.addEventListener('mouseleave', () => {\r\n                element.childNodes[0].style.pointerEvents = 'none'\r\n              })\r\n\r\n              map.controls.remove('trafficControl')\r\n              map.controls.remove('searchControl')\r\n              map.controls.remove('geolocationControl')\r\n              map.controls.remove('typeSelector')\r\n              map.controls.remove('fullscreenControl')\r\n              map.controls.remove('storage)')\r\n\r\n              const placeMark = new maps.Placemark([coords[0], coords[1]], {\r\n                balloonContent: address,\r\n                iconCaption: address\r\n              }, {\r\n                preset: 'islands#greenDotIconWithCaption',\r\n                iconColor: placemarkColor,\r\n                iconCaptionMaxWidth: '500'\r\n              })\r\n\r\n              map.geoObjects.add(placeMark)\r\n            }\r\n\r\n          })\r\n          .catch(error => console.log('Failed to load Yandex Maps', error))\r\n      })\r\n    }, 2500)\r\n  }\r\n})"],"names":["document","addEventListener","yandexMapsSelector","querySelectorAll","setTimeout","forEach","element","ymaps","load","concat","isvekPluginYandexMapsArgs","key","then","maps","coords","getAttribute","split","zoom","address","placemarkColor","map","Map","center","el","remove","childNodes","style","pointerEvents","controls","placeMark","Placemark","balloonContent","iconCaption","preset","iconColor","iconCaptionMaxWidth","geoObjects","add","error","console","log"],"mappings":"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","x_google_ignoreList":[0]}